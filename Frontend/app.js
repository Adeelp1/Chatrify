const _0x6131a5=_0x19e7;(function(_0x44dd5e,_0x4d536e){const _0x1b5f12=_0x19e7,_0x20cd33=_0x44dd5e();while(!![]){try{const _0x106169=-parseInt(_0x1b5f12(0xb0))/0x1+parseInt(_0x1b5f12(0xdd))/0x2*(-parseInt(_0x1b5f12(0xbb))/0x3)+-parseInt(_0x1b5f12(0xb6))/0x4*(-parseInt(_0x1b5f12(0xdb))/0x5)+parseInt(_0x1b5f12(0xb3))/0x6+parseInt(_0x1b5f12(0xce))/0x7*(parseInt(_0x1b5f12(0xb7))/0x8)+-parseInt(_0x1b5f12(0xb4))/0x9*(-parseInt(_0x1b5f12(0xb5))/0xa)+-parseInt(_0x1b5f12(0xd0))/0xb;if(_0x106169===_0x4d536e)break;else _0x20cd33['push'](_0x20cd33['shift']());}catch(_0x5f06ab){_0x20cd33['push'](_0x20cd33['shift']());}}}(_0x4783,0x51be4));let localStream=null,remoteStream=null,localVideoEl=document[_0x6131a5(0xad)](_0x6131a5(0xb9)),remoteVideoEl=document['querySelector'](_0x6131a5(0xba)),inputfield=document[_0x6131a5(0xcc)]('message'),nexBtn=document['getElementById']('nextBtn'),skipBtn=document[_0x6131a5(0xcc)]('sentBtn'),roomId=null,isRemoteDescriptionSet=![],iceQue=[],dataChannel=null,channel=null;const constraints={'video':{'width':{'ideal':0x500},'height':{'ideal':0x2d0},'frameRate':{'ideal':0x1e}},'audio':!![]};var socket=io();socket['on'](_0x6131a5(0xc5),_0x2f04e0=>{roomId=_0x2f04e0;});function init(){const _0x5386bb=_0x6131a5;nexBtn[_0x5386bb(0x9b)]('click',next),skipBtn[_0x5386bb(0x9b)](_0x5386bb(0xd7),handleAction),inputfield[_0x5386bb(0x9b)](_0x5386bb(0x9f),handleAction);}function sendICE(_0x77c5f4){const _0x2890d2=_0x6131a5;socket[_0x2890d2(0xd5)](_0x2890d2(0xc6),_0x77c5f4);}async function startPeerConnection(_0x2ab37c){const _0x296104=_0x6131a5,_0x5af07e=PeerConnection[_0x296104(0xaf)](),_0x12157b=await _0x5af07e[_0x296104(0xda)]();console[_0x296104(0xa9)](_0x296104(0x9e)+_0x12157b),await _0x5af07e[_0x296104(0xcb)](_0x12157b),socket[_0x296104(0xd5)](_0x296104(0x9d),{'r_id':roomId,'offer':_0x5af07e[_0x296104(0xb2)]});}async function openUserMedia(_0x37477d){const _0x4013fe=_0x6131a5,_0x826a8=await navigator[_0x4013fe(0xae)][_0x4013fe(0xc4)](constraints);document[_0x4013fe(0xad)](_0x4013fe(0xb9))['style'][_0x4013fe(0xc1)]=_0x4013fe(0xd2),localStream=_0x826a8,localVideoEl[_0x4013fe(0xbf)][_0x4013fe(0xc1)]=_0x4013fe(0xd2),localVideoEl[_0x4013fe(0xc7)]=_0x826a8,startPeerConnection(),console['log']('Stream:\x20',document[_0x4013fe(0xad)](_0x4013fe(0xb9))[_0x4013fe(0xc7)]);}async function next(_0x45fe99){const _0x30bfec=_0x6131a5,_0x263ded=PeerConnection[_0x30bfec(0xaf)]();_0x263ded['close'](),socket['emit']('changeRoom'),socket['on'](_0x30bfec(0xac),async()=>{startPeerConnection();});}function handleAction(_0x269297){const _0x5cb1d3=_0x6131a5;if(_0x269297[_0x5cb1d3(0xdc)]===_0x5cb1d3(0xd7))sentMessage();else _0x269297[_0x5cb1d3(0xdc)]===_0x5cb1d3(0x9f)&&_0x269297[_0x5cb1d3(0xa1)]===_0x5cb1d3(0xc3)&&sentMessage();}function _0x19e7(_0x5ca02e,_0x59876a){const _0x478313=_0x4783();return _0x19e7=function(_0x19e7e5,_0x4a1b65){_0x19e7e5=_0x19e7e5-0x98;let _0x53bdd4=_0x478313[_0x19e7e5];return _0x53bdd4;},_0x19e7(_0x5ca02e,_0x59876a);}function sentMessage(){const _0x4f48da=_0x6131a5;var _0x35e656=inputfield[_0x4f48da(0xd3)];channel&&channel['send'](_0x35e656);console[_0x4f48da(0xa9)](_0x4f48da(0xcd),_0x35e656);var _0x2c49d2=document[_0x4f48da(0xcf)]('div');_0x2c49d2[_0x4f48da(0xab)]=_0x4f48da(0x9a)+_0x35e656;const _0x37c52f=document[_0x4f48da(0xcc)](_0x4f48da(0xd6));_0x37c52f[_0x4f48da(0xaa)](_0x2c49d2),inputfield[_0x4f48da(0xd3)]='';}function _0x4783(){const _0x60a182=['block','addTrack','data\x20channel\x20is\x20closed','candidate','div','log','appendChild','textContent','restartIce','querySelector','mediaDevices','getInstance','521401yUwvMZ','createAnswer','localDescription','1905276AeeMRp','1080333NSVjQJ','50JgnxWx','28540XpfYRi','80hrSSUL','#loadingVideo','#localVideo','#remoteVideo','3cqscHg','Message','connectionState','channel','style','closed','transform','onicecandidate','Enter','getUserMedia','roomid','icecandidate','srcObject','onmessage','getTracks','forEach','setLocalDescription','getElementById','message:\x20','3570zlRpPa','createElement','6132819VQwFBS','chat','scaleX(-1)','value','Stranger:\x20','emit','messageArea','click','onopen','none','createOffer','380TYLafK','type','102682irRYNB','answer','display','setRemoteDescription','You:\x20','addEventListener','stun:stun.l.google.com:19302','offer','offer:\x20','keydown','data','key','ontrack','candidate:\x20'];_0x4783=function(){return _0x60a182;};return _0x4783();}const PeerConnection=(function(){let _0x188f49;const _0x597bf2=()=>{const _0x8b0f16=_0x19e7,_0x58a1dd={'iceServers':[{'urls':_0x8b0f16(0x9c)}]};return _0x188f49=new RTCPeerConnection(_0x58a1dd),dataChannel=_0x188f49['createDataChannel'](_0x8b0f16(0xd1)),dataChannel[_0x8b0f16(0xd8)]=()=>{const _0x36be55=_0x8b0f16;console[_0x36be55(0xa9)]('data\x20channel\x20is\x20open'),document[_0x36be55(0xcc)](_0x36be55(0xd6))[_0x36be55(0xab)]='';},dataChannel['onclose']=()=>{const _0x51a853=_0x8b0f16;console[_0x51a853(0xa9)](_0x51a853(0xa6)),document[_0x51a853(0xcc)](_0x51a853(0xd6))[_0x51a853(0xab)]=_0x51a853(0xbc);},_0x188f49['ondatachannel']=_0x5c6209=>{const _0x26834a=_0x8b0f16;channel=_0x5c6209[_0x26834a(0xbe)],console[_0x26834a(0xa9)]('DataChannel\x20received\x20on\x20B:',channel['label']),dataChannel[_0x26834a(0xc8)]=_0x257b13=>{const _0x474116=_0x26834a;var _0x41f3eb=document['createElement'](_0x474116(0xa8));_0x41f3eb[_0x474116(0xab)]=_0x474116(0xd4)+_0x257b13[_0x474116(0xa0)];const _0x2bf426=document[_0x474116(0xcc)]('messageArea');_0x2bf426['appendChild'](_0x41f3eb);};},localStream&&localStream[_0x8b0f16(0xc9)]()[_0x8b0f16(0xca)](_0x469036=>{const _0x1e7891=_0x8b0f16;_0x188f49[_0x1e7891(0xa5)](_0x469036,localStream);}),remoteStream=new MediaStream(),remoteVideoEl['srcObject']=remoteStream,_0x188f49[_0x8b0f16(0xa2)]=function(_0xaf5726){const _0xb1a147=_0x8b0f16;document[_0xb1a147(0xad)](_0xb1a147(0xb8))[_0xb1a147(0xbf)][_0xb1a147(0x98)]=_0xb1a147(0xd9),remoteVideoEl['style'][_0xb1a147(0x98)]=_0xb1a147(0xa4),remoteVideoEl[_0xb1a147(0xbf)]['transform']=_0xb1a147(0xd2),_0xaf5726['streams'][0x0][_0xb1a147(0xc9)]()['forEach'](_0x38ac82=>remoteStream[_0xb1a147(0xa5)](_0x38ac82));},_0x188f49[_0x8b0f16(0xc2)]=function(_0x48ed1e){const _0x1921e4=_0x8b0f16;_0x48ed1e[_0x1921e4(0xa7)]&&(isRemoteDescriptionSet?sendICE(_0x48ed1e[_0x1921e4(0xa7)]):iceQue['push'](_0x48ed1e['candidate']));},_0x188f49;};return{'getInstance':()=>{const _0x4cfa2b=_0x19e7;return(!_0x188f49||_0x188f49[_0x4cfa2b(0xbd)]==='closed')&&(dataChannel=null,_0x188f49=_0x597bf2()),_0x188f49;}};}());socket['on'](_0x6131a5(0x9d),async({r_id:_0x47f5a2,offer:_0x200c45})=>{const _0x16ded5=_0x6131a5,_0x1b11f8=PeerConnection['getInstance']();await _0x1b11f8[_0x16ded5(0x99)](_0x200c45);const _0x42ccc0=await _0x1b11f8[_0x16ded5(0xb1)]();await _0x1b11f8[_0x16ded5(0xcb)](_0x42ccc0),socket[_0x16ded5(0xd5)](_0x16ded5(0xde),{'r_id':_0x47f5a2,'answer':_0x1b11f8['localDescription']}),isRemoteDescriptionSet=!![],iceQue[_0x16ded5(0xca)](sendICE),iceQue=[];}),socket['on'](_0x6131a5(0xde),async _0x2d2a13=>{const _0x2cd57b=_0x6131a5,_0x29c2fd=PeerConnection['getInstance']();await _0x29c2fd[_0x2cd57b(0x99)](_0x2d2a13),isRemoteDescriptionSet=!![],iceQue[_0x2cd57b(0xca)](sendICE),iceQue=[];}),socket['on']('icecandidate',async _0x74dd2c=>{const _0x33e61f=_0x6131a5;console[_0x33e61f(0xa9)](_0x33e61f(0xa3)+_0x74dd2c);const _0x1e7376=PeerConnection['getInstance']();await _0x1e7376['addIceCandidate'](new RTCIceCandidate(_0x74dd2c));}),socket['on'](_0x6131a5(0xc0),()=>{const _0x5cfc9b=_0x6131a5;document[_0x5cfc9b(0xad)](_0x5cfc9b(0xb8))[_0x5cfc9b(0xbf)][_0x5cfc9b(0x98)]=_0x5cfc9b(0xa4),remoteVideoEl[_0x5cfc9b(0xbf)][_0x5cfc9b(0x98)]=_0x5cfc9b(0xd9);}),init(),openUserMedia();